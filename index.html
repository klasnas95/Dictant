<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Диктант для тетради</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            background: linear-gradient(135deg, #f0f4f8 0%, #d9e2ec 100%);
            min-height: 100vh;
            padding: 15px;
            color: #2d3748;
            font-size: 16px;
            line-height: 1.5;
        }
        
        .container {
            max-width: 100%;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            margin: 0 auto;
        }
        
        .header {
            background: linear-gradient(to right, #2b6cb0, #2c5282);
            color: white;
            padding: 22px 20px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 1.8rem;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            flex-wrap: wrap;
        }
        
        .header p {
            font-size: 1rem;
            opacity: 0.92;
            line-height: 1.4;
        }
        
        .content {
            display: flex;
            flex-direction: column;
            gap: 20px;
            padding: 20px;
        }
        
        .panel {
            display: flex;
            flex-direction: column;
        }
        
        .panel-title {
            font-size: 1.3rem;
            color: #2d3748;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 2px solid #4299e1;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .text-area {
            width: 100%;
            min-height: 180px;
            padding: 18px;
            border: 2px solid #e2e8f0;
            border-radius: 14px;
            font-size: 1.05rem;
            line-height: 1.6;
            resize: vertical;
            transition: all 0.2s;
            background-color: #f7fafc;
            margin-bottom: 5px;
        }
        
        .text-area:focus {
            outline: none;
            border-color: #4299e1;
            background-color: white;
            box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.15);
        }
        
        .char-counter {
            text-align: right;
            font-size: 0.9rem;
            color: #718096;
            margin-top: 5px;
        }
        
        .controls {
            display: flex;
            flex-direction: column;
            gap: 18px;
        }
        
        .control-group {
            background-color: #f8fafc;
            padding: 18px;
            border-radius: 14px;
            border: 1px solid #e2e8f0;
        }
        
        .slider-container {
            margin: 15px 0;
        }
        
        .slider-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-weight: 600;
            font-size: 1rem;
        }
        
        .slider-value {
            color: #2b6cb0;
            font-weight: 700;
        }
        
        input[type="range"] {
            width: 100%;
            height: 10px;
            -webkit-appearance: none;
            background: #e2e8f0;
            border-radius: 5px;
            outline: none;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 26px;
            height: 26px;
            border-radius: 50%;
            background: #2b6cb0;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            border: 3px solid white;
        }
        
        .buttons {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 15px;
        }
        
        .btn-row {
            display: flex;
            gap: 12px;
        }
        
        .btn {
            flex: 1;
            padding: 16px;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.2s;
            user-select: none;
        }
        
        .btn:active {
            transform: translateY(2px);
        }
        
        .btn-primary {
            background: linear-gradient(to right, #2b6cb0, #3182ce);
            color: white;
        }
        
        .btn-secondary {
            background-color: #edf2f7;
            color: #2d3748;
            border: 2px solid #cbd5e0;
        }
        
        .btn-stop {
            background: linear-gradient(to right, #e53e3e, #c53030);
            color: white;
        }
        
        .current-word-container {
            background: linear-gradient(to right, #ebf4ff, #e6fffa);
            padding: 22px;
            border-radius: 14px;
            margin-top: 15px;
            text-align: center;
            border: 2px dashed #90cdf4;
        }
        
        .current-word-label {
            font-size: 1rem;
            color: #4a5568;
            margin-bottom: 10px;
        }
        
        .current-word {
            font-size: 2rem;
            font-weight: 800;
            color: #2d3748;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            word-break: break-word;
            padding: 5px;
        }
        
        .status {
            font-size: 1.05rem;
            color: #2b6cb0;
            font-weight: 600;
            margin-top: 12px;
        }
        
        .counter {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            color: #4a5568;
            font-size: 0.95rem;
        }
        
        /* СТИЛИ ДЛЯ ТАЙМЕРА */
        .timer-container {
            background: linear-gradient(to right, #fef3c7, #fde68a);
            padding: 16px;
            border-radius: 12px;
            margin-top: 10px;
            text-align: center;
            border: 2px solid #f59e0b;
            display: none; /* Скрыт по умолчанию */
        }
        
        .timer-title {
            font-size: 0.95rem;
            color: #92400e;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .timer-display {
            font-size: 2rem;
            font-weight: 800;
            color: #92400e;
            font-family: 'Courier New', monospace;
        }
        
        .timer-subtitle {
            font-size: 0.85rem;
            color: #92400e;
            margin-top: 5px;
            opacity: 0.8;
        }
        
        .instructions {
            background-color: #f0fff4;
            padding: 18px;
            border-radius: 14px;
            margin-top: 20px;
            border-left: 5px solid #48bb78;
        }
        
        .instructions h3 {
            color: #2d3748;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.2rem;
        }
        
        .instructions ul {
            padding-left: 22px;
        }
        
        .instructions li {
            margin-bottom: 8px;
            line-height: 1.5;
        }
        
        .footer {
            text-align: center;
            padding: 18px;
            color: #718096;
            font-size: 0.85rem;
            border-top: 1px solid #e2e8f0;
            background-color: #f8fafc;
        }
        
        .voice-note {
            background-color: #fffaf0;
            padding: 12px 16px;
            border-radius: 10px;
            margin-top: 10px;
            border-left: 4px solid #ed8936;
            font-size: 0.95rem;
            color: #744210;
        }
        
        /* Адаптация для больших экранов */
        @media (min-width: 768px) {
            .content {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 25px;
                padding: 25px;
            }
            
            .header h1 {
                font-size: 2.2rem;
            }
            
            .text-area {
                min-height: 300px;
            }
            
            .buttons {
                flex-direction: row;
            }
        }
        
        /* Улучшение для очень маленьких экранов */
        @media (max-width: 360px) {
            body {
                padding: 10px;
            }
            
            .header {
                padding: 18px 15px;
            }
            
            .header h1 {
                font-size: 1.6rem;
            }
            
            .content {
                padding: 15px;
                gap: 15px;
            }
            
            .btn {
                padding: 14px;
                font-size: 1rem;
            }
            
            .current-word {
                font-size: 1.8rem;
            }
            
            .timer-display {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-pencil-alt"></i> Диктант для тетради</h1>
            <p>Вставьте текст, настройте скорость и паузы, затем начните диктовку</p>
        </div>
        
        <div class="content">
            <div class="panel">
                <div class="panel-title"><i class="fas fa-align-left"></i> Текст для диктовки</div>
                <textarea id="text" class="text-area" placeholder="Вставьте или напишите текст для диктовки...&#10;&#10;Пример:&#10;Диктант помогает развивать грамотность. Регулярные тренировки улучшают навыки письма и правописания. Старайтесь писать аккуратно и без ошибок."></textarea>
                <div class="char-counter">Символов: <span id="charCount">0</span></div>
                
                <div class="instructions">
                    <h3><i class="fas fa-mobile-alt"></i> Как пользоваться на телефоне</h3>
                    <ul>
                        <li>Вставьте текст в поле выше</li>
                        <li>Настройте скорость и паузу под ваш темп письма</li>
                        <li>Нажмите «Начать диктовку» и пишите в тетрадь</li>
                        <li>Используйте паузу, если не успеваете</li>
                        <li>Текущее слово будет отображаться крупно</li>
                        <li>Таймер покажет, сколько времени осталось</li>
                    </ul>
                </div>
            </div>
            
            <div class="panel">
                <div class="panel-title"><i class="fas fa-sliders-h"></i> Настройки диктовки</div>
                
                <div class="controls">
                    <div class="control-group">
                        <div class="slider-label">
                            <span>Скорость чтения</span>
                            <span class="slider-value" id="speedValue">0.8</span>
                        </div>
                        <div class="slider-container">
                            <input type="range" id="rate" min="0.3" max="1.5" step="0.1" value="0.8">
                        </div>
                        
                        <div class="slider-label">
                            <span>Пауза между словами</span>
                            <span class="slider-value" id="pauseValue">2.0 сек</span>
                        </div>
                        <div class="slider-container">
                            <input type="range" id="wordPause" min="1" max="5" step="0.5" value="2">
                        </div>
                        
                        <div class="voice-note">
                            <i class="fas fa-info-circle"></i> Используется стандартный голос вашего устройства
                        </div>
                    </div>
                    
                    <div class="buttons">
                        <div class="btn-row">
                            <button class="btn btn-primary" onclick="startDictation()" id="startBtn">
                                <i class="fas fa-play"></i> Начать диктовку
                            </button>
                            <button class="btn btn-secondary" onclick="pauseDictation()" id="pauseBtn" disabled>
                                <i class="fas fa-pause"></i> Пауза
                            </button>
                        </div>
                        <button class="btn btn-stop" onclick="stopDictation()" id="stopBtn" disabled>
                            <i class="fas fa-stop"></i> Остановить
                        </button>
                    </div>
                    
                    <!-- КОНТЕЙНЕР ТАЙМЕРА -->
                    <div class="timer-container" id="timerContainer">
                        <div class="timer-title">
                            <i class="fas fa-clock"></i> Осталось времени
                        </div>
                        <div class="timer-display" id="timerDisplay">00:00</div>
                        <div class="timer-subtitle" id="timerSubtitle">Расчетное время завершения</div>
                    </div>
                    
                    <div class="current-word-container">
                        <div class="current-word-label">Сейчас пишите:</div>
                        <div class="current-word" id="currentWord">—</div>
                        <div class="status" id="status">Готов к диктовке</div>
                        <div class="counter">
                            <span>Слово: <span id="wordCounter">0</span> из <span id="totalWords">0</span></span>
                            <span>Прогресс: <span id="progress">0</span>%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p>Диктант для школы • Оптимизировано для телефона • Работает в современных браузерах</p>
        </div>
    </div>
    
    <script>
        // Основные переменные
        let words = [];
        let currentWordIndex = 0;
        let isPaused = false;
        let isStopped = false;
        let wordDelay = 2000; // 2 секунды по умолчанию
        let isSpeaking = false;
        let totalEstimatedTime = 0; // Общее расчетное время в миллисекундах
        let timeRemaining = 0; // Оставшееся время в миллисекундах
        let timerInterval = null; // Интервал для обновления таймера
        
        // Элементы DOM
        const rateSlider = document.getElementById('rate');
        const pauseSlider = document.getElementById('wordPause');
        const speedValue = document.getElementById('speedValue');
        const pauseValue = document.getElementById('pauseValue');
        const currentWordEl = document.getElementById('currentWord');
        const statusEl = document.getElementById('status');
        const wordCounterEl = document.getElementById('wordCounter');
        const totalWordsEl = document.getElementById('totalWords');
        const progressEl = document.getElementById('progress');
        const startBtn = document.getElementById('startBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const stopBtn = document.getElementById('stopBtn');
        const textArea = document.getElementById('text');
        const charCountEl = document.getElementById('charCount');
        const timerContainer = document.getElementById('timerContainer');
        const timerDisplay = document.getElementById('timerDisplay');
        const timerSubtitle = document.getElementById('timerSubtitle');
        
        // Счетчик символов
        function updateCharCount() {
            charCountEl.textContent = textArea.value.length;
        }
        
        textArea.addEventListener('input', updateCharCount);
        
        // Обновление значений слайдеров
        rateSlider.addEventListener('input', function() {
            speedValue.textContent = this.value;
        });
        
        pauseSlider.addEventListener('input', function() {
            pauseValue.textContent = this.value + ' сек';
        });
        
        // Начало диктовки
        function startDictation() {
            const text = textArea.value.trim();
            const rate = parseFloat(rateSlider.value);
            wordDelay = parseFloat(pauseSlider.value) * 1000;
            
            if (!text) {
                showStatus('Введите текст для диктовки!', 'error');
                vibrate();
                return;
            }
            
            // Разбиваем текст на слова и знаки препинания
            words = text.match(/[\wа-яА-ЯёЁ\-]+|[.,!?;:]/g) || [];
            
            if (words.length === 0) {
                showStatus('Не найдено слов для диктовки', 'error');
                return;
            }
            
            // Сброс состояния
            currentWordIndex = 0;
            isPaused = false;
            isStopped = false;
            isSpeaking = true;
            
            // РАСЧЕТ ВРЕМЕНИ: оцениваем общее время диктовки
            calculateTotalTime(rate);
            
            // Обновляем UI
            totalWordsEl.textContent = words.length;
            updateProgress();
            showStatus('Диктовка началась...', 'info');
            
            // Показываем таймер
            timerContainer.style.display = 'block';
            updateTimerDisplay();
            
            // Обновляем кнопки
            toggleButtons(true);
            
            // Начинаем диктовку с небольшой задержкой
            setTimeout(() => speakNextWord(rate), 300);
            
            // Запускаем таймер
            startTimer();
        }
        
        // Расчет общего времени диктовки
        function calculateTotalTime(rate) {
            // Базовое время произношения слова (примерно 0.5 секунды на слог)
            // Упрощенный расчет: среднее слово в русском языке - 2 слога = 1 секунда
            const avgWordDuration = 1000 / rate; // миллисекунды
            
            // Считаем только слова (не знаки препинания)
            const wordCount = words.filter(word => !/^[.,!?;:]$/.test(word)).length;
            const punctuationCount = words.length - wordCount;
            
            // Время для слов
            let totalTime = wordCount * avgWordDuration;
            
            // Время для знаков препинания (произносятся быстрее)
            totalTime += punctuationCount * (avgWordDuration * 0.5);
            
            // Добавляем паузы между словами
            totalTime += (words.length - 1) * wordDelay;
            
            // Добавляем буфер для надежности (+15%)
            totalTime *= 1.15;
            
            totalEstimatedTime = Math.round(totalTime);
            timeRemaining = totalEstimatedTime;
            
            // Обновляем подпись таймера с расчетным временем завершения
            const endTime = new Date(Date.now() + totalEstimatedTime);
            const endTimeStr = endTime.toLocaleTimeString('ru-RU', { 
                hour: '2-digit', 
                minute: '2-digit' 
            });
            timerSubtitle.textContent = `Завершится примерно в ${endTimeStr}`;
        }
        
        // Запуск таймера
        function startTimer() {
            if (timerInterval) {
                clearInterval(timerInterval);
            }
            
            timerInterval = setInterval(() => {
                if (!isPaused && !isStopped && isSpeaking && timeRemaining > 0) {
                    timeRemaining -= 1000; // Уменьшаем на 1 секунду
                    updateTimerDisplay();
                    
                    // Если время вышло
                    if (timeRemaining <= 0) {
                        timeRemaining = 0;
                        updateTimerDisplay();
                        clearInterval(timerInterval);
                    }
                }
            }, 1000);
        }
        
        // Обновление отображения таймера
        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60000);
            const seconds = Math.floor((timeRemaining % 60000) / 1000);
            
            // Форматирование: 05:09
            timerDisplay.textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // Меняем цвет, если осталось мало времени
            if (timeRemaining < 30000) { // Менее 30 секунд
                timerDisplay.style.color = '#e53e3e';
                timerContainer.style.background = 'linear-gradient(to right, #fed7d7, #feb2b2)';
                timerContainer.style.borderColor = '#fc8181';
            } else if (timeRemaining < 60000) { // Менее 1 минуты
                timerDisplay.style.color = '#d69e2e';
                timerContainer.style.background = 'linear-gradient(to right, #feebc8, #fbd38d)';
                timerContainer.style.borderColor = '#f6ad55';
            } else {
                timerDisplay.style.color = '#92400e';
                timerContainer.style.background = 'linear-gradient(to right, #fef3c7, #fde68a)';
                timerContainer.style.borderColor = '#f59e0b';
            }
        }
        
        // Пауза/продолжение таймера
        function pauseDictation() {
            if (!isSpeaking) return;
            
            if (!isPaused) {
                speechSynthesis.pause();
                isPaused = true;
                pauseBtn.innerHTML = '<i class="fas fa-play"></i> Продолжить';
                showStatus('Пауза', 'warning');
                
                // Останавливаем таймер
                if (timerInterval) {
                    clearInterval(timerInterval);
                }
            } else {
                speechSynthesis.resume();
                isPaused = false;
                pauseBtn.innerHTML = '<i class="fas fa-pause"></i> Пауза';
                showStatus('Диктовка продолжается...', 'info');
                
                // Пересчитываем время завершения
                const endTime = new Date(Date.now() + timeRemaining);
                const endTimeStr = endTime.toLocaleTimeString('ru-RU', { 
                    hour: '2-digit', 
                    minute: '2-digit' 
                });
                timerSubtitle.textContent = `Завершится примерно в ${endTimeStr}`;
                
                // Возобновляем таймер
                startTimer();
            }
        }
        
        // Остановка диктовки
        function stopDictation() {
            speechSynthesis.cancel();
            isStopped = true;
            isPaused = false;
            isSpeaking = false;
            
            currentWordEl.textContent = '—';
            showStatus('Диктовка остановлена', 'error');
            toggleButtons(false);
            
            // Останавливаем и сбрасываем таймер
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
            timerContainer.style.display = 'none';
        }
        
        // Произношение следующего слова
        function speakNextWord(rate) {
            if (isStopped || currentWordIndex >= words.length) {
                endDictation();
                return;
            }
            
            if (isPaused) {
                setTimeout(() => speakNextWord(rate), 100);
                return;
            }
            
            const word = words[currentWordIndex];
            
            // Обновляем UI с текущим словом
            currentWordEl.textContent = `"${word}"`;
            wordCounterEl.textContent = currentWordIndex + 1;
            updateProgress();
            
            // Определяем, является ли слово знаком препинания
            const isPunctuation = /^[.,!?;:]$/.test(word);
            
            // Создаем высказывание
            const utterance = new SpeechSynthesisUtterance();
            
            // Для знаков препинания озвучиваем их названия
            if (isPunctuation) {
                utterance.text = getPunctuationName(word);
                utterance.rate = rate * 0.7; // Медленнее для знаков препинания
            } else {
                utterance.text = word;
                utterance.rate = rate;
            }
            
            utterance.lang = 'ru-RU';
            utterance.volume = 1;
            
            // Обработка завершения произношения
            utterance.onend = function() {
                // Пауза после слова/знака
                setTimeout(() => {
                    currentWordIndex++;
                    if (currentWordIndex < words.length) {
                        speakNextWord(rate);
                    } else {
                        endDictation();
                    }
                }, wordDelay);
            };
            
            // Обработка ошибок
            utterance.onerror = function(event) {
                console.error('Ошибка синтеза речи:', event);
                showStatus('Ошибка воспроизведения. Проверьте голосовые настройки.', 'error');
                stopDictation();
            };
            
            // Произносим
            speechSynthesis.speak(utterance);
        }
        
        // Получение названия знака препинания
        function getPunctuationName(symbol) {
            switch(symbol) {
                case '.': return 'точка';
                case ',': return 'запятая';
                case '!': return 'восклицательный знак';
                case '?': return 'вопрос';
                case ';': return 'точка с запятой';
                case ':': return 'двоеточие';
                default: return symbol;
            }
        }
        
        // Завершение диктовки
        function endDictation() {
            isSpeaking = false;
            currentWordEl.textContent = '—';
            showStatus('Диктовка завершена! Проверьте свою работу.', 'success');
            toggleButtons(false);
            
            // Останавливаем таймер
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
            
            // Обновляем таймер на 00:00
            timeRemaining = 0;
            updateTimerDisplay();
            timerSubtitle.textContent = 'Диктовка завершена';
            
            // Произносим завершающее сообщение
            const utterance = new SpeechSynthesisUtterance("Диктант завершён. Проверьте свою работу.");
            utterance.rate = 0.8;
            utterance.lang = 'ru-RU';
            utterance.volume = 0.7;
            
            setTimeout(() => {
                speechSynthesis.speak(utterance);
            }, 500);
        }
        
        // Обновление прогресса
        function updateProgress() {
            if (words.length > 0) {
                const progress = Math.round((currentWordIndex / words.length) * 100);
                progressEl.textContent = progress;
            } else {
                progressEl.textContent = 0;
            }
        }
        
        // Показать статус с цветом
        function showStatus(message, type) {
            statusEl.textContent = message;
            
            switch(type) {
                case 'error':
                    statusEl.style.color = '#e53e3e';
                    break;
                case 'warning':
                    statusEl.style.color = '#d69e2e';
                    break;
                case 'success':
                    statusEl.style.color = '#38a169';
                    break;
                case 'info':
                default:
                    statusEl.style.color = '#2b6cb0';
                    break;
            }
        }
        
        // Управление кнопками
        function toggleButtons(dictationActive) {
            if (dictationActive) {
                startBtn.disabled = true;
                startBtn.innerHTML = '<i class="fas fa-microphone"></i> Диктует...';
                pauseBtn.disabled = false;
                stopBtn.disabled = false;
            } else {
                startBtn.disabled = false;
                startBtn.innerHTML = '<i class="fas fa-play"></i> Начать диктовку';
                pauseBtn.disabled = true;
                pauseBtn.innerHTML = '<i class="fas fa-pause"></i> Пауза';
                stopBtn.disabled = true;
            }
        }
        
        // Вибрация для мобильных устройств (если поддерживается)
        function vibrate() {
            if (navigator.vibrate) {
                navigator.vibrate(50);
            }
        }
        
        // Инициализация при загрузке
        window.addEventListener('DOMContentLoaded', function() {
            // Устанавливаем начальные значения
            speedValue.textContent = rateSlider.value;
            pauseValue.textContent = pauseSlider.value + ' сек';
            updateCharCount();
            
            // Добавляем демо-текст при первом открытии
            if (textArea.value.trim() === '') {
                const demoText = `Диктант — это прекрасное упражнение для развития грамотности. Он помогает улучшить память, внимание к деталям и навыки письма.

Каждое утро солнце поднимается над горизонтом, освещая землю тёплыми лучами. Птицы начинают петь свои прекрасные песни, приветствуя новый день.

В школе мы учимся не только читать и писать, но и думать, анализировать, принимать решения. Знания открывают перед нами новые возможности и горизонты.

Регулярные занятия диктантом помогут вам стать более грамотным и уверенным в своих силах. Пишите аккуратно, соблюдайте правила орфографии и пунктуации.`;
                
                textArea.value = demoText;
                updateCharCount();
                
                // Обновляем счетчик слов
                const demoWords = demoText.match(/[\wа-яА-ЯёЁ\-]+|[.,!?;:]/g) || [];
                totalWordsEl.textContent = demoWords.length;
            }
        });
    </script>
</body>
</html>
